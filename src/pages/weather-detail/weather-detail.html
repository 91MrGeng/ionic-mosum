<!--suppress ALL -->
<ion-header>
  <ion-navbar color="white" [attr.no-border-bottom]="showSegment ? true : null">
    <ion-title>Weather Detail</ion-title>
  </ion-navbar>
  <ion-toolbar color="white" no-border-top *ngIf="showSegment">
    <ion-segment [(ngModel)]="whichSegment" (ionChange)="segmentChanged()" color="blackish">
      <ion-segment-button value="detail">
        Detail
      </ion-segment-button>
      <ion-segment-button value="hourly">
        Hourly
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list style="height:100%;margin:0"
            *ngIf="forecast && currentForecast && currentLocation && metrics">
    <ion-item style="text-align: center;height:50%;" text-wrap>
      <h1 style="font-weight: bold;">{{currentLocation.name}}</h1>
      <h2>{{utilService.getCalendarDay(currentForecast.time,forecast.timezone)}}</h2>
      <ion-grid>
        <ion-row>
          <ion-col width-33>
            <div class="vertical-center">
              <span style="font-size:3.2rem;" color="text1">
                {{utilService.formatTemp(currentForecast.temperatureMax,metrics)}}
              </span>
              <span style="font-size:2.6rem;" color="text1">
                {{utilService.formatTemp(currentForecast.temperatureMin,metrics)}}
              </span>
              <h5 color="text1">RealFeel</h5>
              <span style="font-size:2.6rem;" color="text2">
                {{utilService.formatTemp(currentForecast.apparentTemperatureMax,metrics)}}
              </span>
              <span style="font-size:2.0rem;" color="text2">
                {{utilService.formatTemp(currentForecast.apparentTemperatureMin,metrics)}}
              </span>
            </div>
          </ion-col>
          <ion-col width-33>
            <img [src]="utilService.getWeatherIcon(currentForecast.icon)"
                 onerror="this.src=utilService.getDefaultIcon()">
            <h2 style="font-weight: bold;font-size: 1.8rem" color="text1">
              {{utilService.startCase(currentForecast.icon)}}</h2>
          </ion-col>
          <ion-col width-33>
            <div class="vertical-center">
              <img [src]="utilService.getWeatherIcon('sunrise')" style="max-width:40%"
                   onerror="this.src=utilService.getDefaultIcon()">
              <h2 style="font-weight: bold;" color="text1">
                {{utilService.getTime(currentForecast.sunriseTime,metrics,forecast.timezone)}}</h2>
              <img [src]="utilService.getWeatherIcon('sunset')" style="max-width:40%">
              <h2 style="font-weight: bold;" color="text2">
                {{utilService.getTime(currentForecast.sunsetTime,metrics,forecast.timezone)}}</h2>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

    <ion-item text-wrap color="blackish" style="height:50%;">
      <ion-grid>
        <ion-row *ngFor="let detail of detailsArray">
          <ion-col><h2 style="font-weight: bold;font-size: 1.8rem" color="text3">{{detail.name}}</h2></ion-col>
          <ion-col><h2 style="font-weight: bold;font-size: 1.8rem">{{detail.value}}</h2></ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

  </ion-list>
</ion-content>
